"use strict";
var __cov_r87ZZ8YznXkxn6igoR4SYw = (Function('return this'))();
if (!__cov_r87ZZ8YznXkxn6igoR4SYw.global.__coverage__) { __cov_r87ZZ8YznXkxn6igoR4SYw.global.__coverage__ = {}; }
__cov_r87ZZ8YznXkxn6igoR4SYw = __cov_r87ZZ8YznXkxn6igoR4SYw.global.__coverage__;
if (!(__cov_r87ZZ8YznXkxn6igoR4SYw['/Users/levsun/Documents/svgo/lib/svgo/svg2js.js'])) {
   __cov_r87ZZ8YznXkxn6igoR4SYw['/Users/levsun/Documents/svgo/lib/svgo/svg2js.js'] = {"path":"/Users/levsun/Documents/svgo/lib/svgo/svg2js.js","s":{"1":0,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":21,"loc":{"start":{"line":21,"column":17},"end":{"line":21,"column":42}}},"2":{"name":"pushToContent","line":29,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":36}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":20},"end":{"line":39,"column":38}}},"4":{"name":"(anonymous_4)","line":47,"loc":{"start":{"line":47,"column":34},"end":{"line":47,"column":49}}},"5":{"name":"(anonymous_5)","line":55,"loc":{"start":{"line":55,"column":20},"end":{"line":55,"column":38}}},"6":{"name":"(anonymous_6)","line":63,"loc":{"start":{"line":63,"column":18},"end":{"line":63,"column":34}}},"7":{"name":"(anonymous_7)","line":71,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":35}}},"8":{"name":"(anonymous_8)","line":104,"loc":{"start":{"line":104,"column":17},"end":{"line":104,"column":32}}},"9":{"name":"(anonymous_9)","line":119,"loc":{"start":{"line":119,"column":21},"end":{"line":119,"column":32}}},"10":{"name":"(anonymous_10)","line":132,"loc":{"start":{"line":132,"column":18},"end":{"line":132,"column":30}}},"11":{"name":"(anonymous_11)","line":138,"loc":{"start":{"line":138,"column":16},"end":{"line":138,"column":27}}},"12":{"name":"trim","line":146,"loc":{"start":{"line":146,"column":4},"end":{"line":146,"column":24}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":4,"column":31}},"2":{"start":{"line":6,"column":0},"end":{"line":13,"column":2}},"3":{"start":{"line":21,"column":0},"end":{"line":162,"column":2}},"4":{"start":{"line":23,"column":4},"end":{"line":27,"column":27}},"5":{"start":{"line":29,"column":4},"end":{"line":37,"column":5}},"6":{"start":{"line":31,"column":8},"end":{"line":31,"column":46}},"7":{"start":{"line":33,"column":8},"end":{"line":33,"column":64}},"8":{"start":{"line":35,"column":8},"end":{"line":35,"column":23}},"9":{"start":{"line":39,"column":4},"end":{"line":45,"column":6}},"10":{"start":{"line":41,"column":8},"end":{"line":43,"column":11}},"11":{"start":{"line":47,"column":4},"end":{"line":53,"column":6}},"12":{"start":{"line":49,"column":8},"end":{"line":51,"column":11}},"13":{"start":{"line":55,"column":4},"end":{"line":61,"column":6}},"14":{"start":{"line":57,"column":8},"end":{"line":59,"column":11}},"15":{"start":{"line":63,"column":4},"end":{"line":69,"column":6}},"16":{"start":{"line":65,"column":8},"end":{"line":67,"column":11}},"17":{"start":{"line":71,"column":4},"end":{"line":102,"column":6}},"18":{"start":{"line":73,"column":8},"end":{"line":77,"column":10}},"19":{"start":{"line":79,"column":8},"end":{"line":90,"column":9}},"20":{"start":{"line":80,"column":12},"end":{"line":80,"column":28}},"21":{"start":{"line":82,"column":12},"end":{"line":89,"column":13}},"22":{"start":{"line":83,"column":16},"end":{"line":88,"column":18}},"23":{"start":{"line":92,"column":8},"end":{"line":92,"column":35}},"24":{"start":{"line":93,"column":8},"end":{"line":93,"column":23}},"25":{"start":{"line":96,"column":8},"end":{"line":98,"column":9}},"26":{"start":{"line":97,"column":12},"end":{"line":97,"column":34}},"27":{"start":{"line":100,"column":8},"end":{"line":100,"column":25}},"28":{"start":{"line":104,"column":4},"end":{"line":117,"column":6}},"29":{"start":{"line":106,"column":8},"end":{"line":115,"column":9}},"30":{"start":{"line":108,"column":12},"end":{"line":109,"column":35}},"31":{"start":{"line":109,"column":16},"end":{"line":109,"column":35}},"32":{"start":{"line":111,"column":12},"end":{"line":113,"column":15}},"33":{"start":{"line":119,"column":4},"end":{"line":130,"column":6}},"34":{"start":{"line":121,"column":8},"end":{"line":121,"column":31}},"35":{"start":{"line":124,"column":8},"end":{"line":127,"column":9}},"36":{"start":{"line":125,"column":12},"end":{"line":125,"column":30}},"37":{"start":{"line":126,"column":12},"end":{"line":126,"column":31}},"38":{"start":{"line":128,"column":8},"end":{"line":128,"column":42}},"39":{"start":{"line":132,"column":4},"end":{"line":136,"column":6}},"40":{"start":{"line":134,"column":8},"end":{"line":134,"column":62}},"41":{"start":{"line":138,"column":4},"end":{"line":142,"column":6}},"42":{"start":{"line":140,"column":8},"end":{"line":140,"column":40}},"43":{"start":{"line":140,"column":25},"end":{"line":140,"column":40}},"44":{"start":{"line":144,"column":4},"end":{"line":144,"column":28}},"45":{"start":{"line":146,"column":4},"end":{"line":160,"column":5}},"46":{"start":{"line":147,"column":8},"end":{"line":147,"column":39}},"47":{"start":{"line":147,"column":27},"end":{"line":147,"column":39}},"48":{"start":{"line":149,"column":8},"end":{"line":150,"column":56}},"49":{"start":{"line":152,"column":8},"end":{"line":152,"column":79}},"50":{"start":{"line":152,"column":54},"end":{"line":152,"column":79}},"51":{"start":{"line":153,"column":8},"end":{"line":153,"column":77}},"52":{"start":{"line":153,"column":33},"end":{"line":153,"column":77}},"53":{"start":{"line":155,"column":8},"end":{"line":155,"column":90}},"54":{"start":{"line":155,"column":48},"end":{"line":155,"column":90}},"55":{"start":{"line":156,"column":8},"end":{"line":156,"column":69}},"56":{"start":{"line":156,"column":29},"end":{"line":156,"column":69}},"57":{"start":{"line":158,"column":8},"end":{"line":158,"column":20}}},"branchMap":{"1":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":27},"end":{"line":33,"column":42}},{"start":{"line":33,"column":46},"end":{"line":33,"column":48}}]},"2":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":8}},{"start":{"line":79,"column":8},"end":{"line":79,"column":8}}]},"3":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":8},"end":{"line":96,"column":8}},{"start":{"line":96,"column":8},"end":{"line":96,"column":8}}]},"4":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":12},"end":{"line":96,"column":31}},{"start":{"line":96,"column":35},"end":{"line":96,"column":47}}]},"5":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":8},"end":{"line":106,"column":8}},{"start":{"line":106,"column":8},"end":{"line":106,"column":8}}]},"6":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":12},"end":{"line":106,"column":27}},{"start":{"line":106,"column":31},"end":{"line":106,"column":42}}]},"7":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12}},{"start":{"line":108,"column":12},"end":{"line":108,"column":12}}]},"8":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":8}},{"start":{"line":124,"column":8},"end":{"line":124,"column":8}}]},"9":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":8},"end":{"line":140,"column":8}},{"start":{"line":140,"column":8},"end":{"line":140,"column":8}}]},"10":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":8},"end":{"line":147,"column":8}},{"start":{"line":147,"column":8},"end":{"line":147,"column":8}}]},"11":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":15},"end":{"line":152,"column":20}},{"start":{"line":152,"column":24},"end":{"line":152,"column":37}},{"start":{"line":152,"column":41},"end":{"line":152,"column":52}}]},"12":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":8},"end":{"line":153,"column":8}},{"start":{"line":153,"column":8},"end":{"line":153,"column":8}}]},"13":{"line":153,"type":"binary-expr","locations":[{"start":{"line":153,"column":12},"end":{"line":153,"column":17}},{"start":{"line":153,"column":21},"end":{"line":153,"column":31}}]},"14":{"line":155,"type":"binary-expr","locations":[{"start":{"line":155,"column":15},"end":{"line":155,"column":18}},{"start":{"line":155,"column":22},"end":{"line":155,"column":33}},{"start":{"line":155,"column":37},"end":{"line":155,"column":46}}]},"15":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":8},"end":{"line":156,"column":8}},{"start":{"line":156,"column":8},"end":{"line":156,"column":8}}]},"16":{"line":156,"type":"binary-expr","locations":[{"start":{"line":156,"column":12},"end":{"line":156,"column":15}},{"start":{"line":156,"column":19},"end":{"line":156,"column":27}}]}}};
}
__cov_r87ZZ8YznXkxn6igoR4SYw = __cov_r87ZZ8YznXkxn6igoR4SYw['/Users/levsun/Documents/svgo/lib/svgo/svg2js.js'];
__cov_r87ZZ8YznXkxn6igoR4SYw.s['1']++;
var SAX = require('sax'), JSAPI = require('./jsAPI');
__cov_r87ZZ8YznXkxn6igoR4SYw.s['2']++;
var config = {
    strict: true,
    trim: false,
    normalize: true,
    lowercase: true,
    xmlns: true,
    position: false
};
__cov_r87ZZ8YznXkxn6igoR4SYw.s['3']++;
module.exports = function (data, callback) {
    __cov_r87ZZ8YznXkxn6igoR4SYw.f['1']++;
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['4']++;
    var sax = SAX.parser(config.strict, config), root = new JSAPI({ elem: '#document' }), current = root, stack = [root], textContext = null;
    function pushToContent(content) {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['2']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['6']++;
        content = new JSAPI(content, current);
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['7']++;
        (current.content = (__cov_r87ZZ8YznXkxn6igoR4SYw.b['1'][0]++, current.content) || (__cov_r87ZZ8YznXkxn6igoR4SYw.b['1'][1]++, [])).push(content);
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['8']++;
        return content;
    }
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['9']++;
    sax.ondoctype = function (doctype) {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['3']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['10']++;
        pushToContent({ doctype: doctype });
    };
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['11']++;
    sax.onprocessinginstruction = function (data) {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['4']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['12']++;
        pushToContent({ processinginstruction: data });
    };
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['13']++;
    sax.oncomment = function (comment) {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['5']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['14']++;
        pushToContent({ comment: comment.trim() });
    };
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['15']++;
    sax.oncdata = function (cdata) {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['6']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['16']++;
        pushToContent({ cdata: cdata });
    };
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['17']++;
    sax.onopentag = function (data) {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['7']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['18']++;
        var elem = {
            elem: data.name,
            prefix: data.prefix,
            local: data.local
        };
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['19']++;
        if (Object.keys(data.attributes).length) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['2'][0]++;
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['20']++;
            elem.attrs = {};
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['21']++;
            for (var name in data.attributes) {
                __cov_r87ZZ8YznXkxn6igoR4SYw.s['22']++;
                elem.attrs[name] = {
                    name: name,
                    value: data.attributes[name].value,
                    prefix: data.attributes[name].prefix,
                    local: data.attributes[name].local
                };
            }
        } else {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['2'][1]++;
        }
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['23']++;
        elem = pushToContent(elem);
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['24']++;
        current = elem;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['25']++;
        if ((__cov_r87ZZ8YznXkxn6igoR4SYw.b['4'][0]++, data.name == 'text') && (__cov_r87ZZ8YznXkxn6igoR4SYw.b['4'][1]++, !data.prefix)) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['3'][0]++;
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['26']++;
            textContext = current;
        } else {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['3'][1]++;
        }
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['27']++;
        stack.push(elem);
    };
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['28']++;
    sax.ontext = function (text) {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['8']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['29']++;
        if ((__cov_r87ZZ8YznXkxn6igoR4SYw.b['6'][0]++, /\S/.test(text)) || (__cov_r87ZZ8YznXkxn6igoR4SYw.b['6'][1]++, textContext)) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['5'][0]++;
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['30']++;
            if (!textContext) {
                __cov_r87ZZ8YznXkxn6igoR4SYw.b['7'][0]++;
                __cov_r87ZZ8YznXkxn6igoR4SYw.s['31']++;
                text = text.trim();
            } else {
                __cov_r87ZZ8YznXkxn6igoR4SYw.b['7'][1]++;
            }
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['32']++;
            pushToContent({ text: text });
        } else {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['5'][1]++;
        }
    };
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['33']++;
    sax.onclosetag = function () {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['9']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['34']++;
        var last = stack.pop();
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['35']++;
        if (last == textContext) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['8'][0]++;
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['36']++;
            trim(textContext);
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['37']++;
            textContext = null;
        } else {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['8'][1]++;
        }
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['38']++;
        current = stack[stack.length - 1];
    };
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['39']++;
    sax.onerror = function (e) {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['10']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['40']++;
        callback({ error: 'Error in parsing: ' + e.message });
    };
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['41']++;
    sax.onend = function () {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['11']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['42']++;
        if (!this.error) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['9'][0]++;
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['43']++;
            callback(root);
        } else {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['9'][1]++;
        }
    };
    __cov_r87ZZ8YznXkxn6igoR4SYw.s['44']++;
    sax.write(data).close();
    function trim(elem) {
        __cov_r87ZZ8YznXkxn6igoR4SYw.f['12']++;
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['46']++;
        if (!elem.content) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['10'][0]++;
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['47']++;
            return elem;
        } else {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['10'][1]++;
        }
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['48']++;
        var start = elem.content[0], end = elem.content[elem.content.length - 1];
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['49']++;
        while ((__cov_r87ZZ8YznXkxn6igoR4SYw.b['11'][0]++, start) && (__cov_r87ZZ8YznXkxn6igoR4SYw.b['11'][1]++, start.content) && (__cov_r87ZZ8YznXkxn6igoR4SYw.b['11'][2]++, !start.text)) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['50']++;
            start = start.content[0];
        }
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['51']++;
        if ((__cov_r87ZZ8YznXkxn6igoR4SYw.b['13'][0]++, start) && (__cov_r87ZZ8YznXkxn6igoR4SYw.b['13'][1]++, start.text)) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['12'][0]++;
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['52']++;
            start.text = start.text.replace(/^\s+/, '');
        } else {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['12'][1]++;
        }
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['53']++;
        while ((__cov_r87ZZ8YznXkxn6igoR4SYw.b['14'][0]++, end) && (__cov_r87ZZ8YznXkxn6igoR4SYw.b['14'][1]++, end.content) && (__cov_r87ZZ8YznXkxn6igoR4SYw.b['14'][2]++, !end.text)) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['54']++;
            end = end.content[end.content.length - 1];
        }
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['55']++;
        if ((__cov_r87ZZ8YznXkxn6igoR4SYw.b['16'][0]++, end) && (__cov_r87ZZ8YznXkxn6igoR4SYw.b['16'][1]++, end.text)) {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['15'][0]++;
            __cov_r87ZZ8YznXkxn6igoR4SYw.s['56']++;
            end.text = end.text.replace(/\s+$/, '');
        } else {
            __cov_r87ZZ8YznXkxn6igoR4SYw.b['15'][1]++;
        }
        __cov_r87ZZ8YznXkxn6igoR4SYw.s['57']++;
        return elem;
    }
};
